<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theatre of Surveillance</title>
    <style>
        body {
            margin: 0;
            background: black;
            color: white;
            font-family: Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }
        video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            object-fit: cover;
            filter: blur(10px);
        }
        .overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            max-width: 300px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid white;
            text-align: left;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <video autoplay playsinline></video>
    <div class="overlay" id="text-box">"You are being watched."</div>
    <script>
        const video = document.querySelector("video");
        const textBox = document.getElementById("text-box");
        const texts = [
            "The gaze is not neutral.",
            "To see is to be seen.",
            "Who is watching whom?",
            "Surveillance is power.",
            "You are being observed."
        ];
        
        navigator.mediaDevices.getUserMedia({ video: true })
            .then(stream => {
                video.srcObject = stream;
                blurEffect();
                toggleVisibility();
                cycleText();
            })
            .catch(error => console.error("Error accessing webcam:", error));

        function blurEffect() {
            video.style.filter = "blur(10px)";
        }

        function clearEffect() {
            video.style.filter = "none";
        }

        function toggleVisibility() {
            const randomDelay = Math.random() * (10000 - 3000) + 3000;
            setTimeout(() => {
                clearEffect();
                setTimeout(blurEffect, 1000 + Math.random() * 1000);
                toggleVisibility();
            }, randomDelay);
        }

        function cycleText() {
            setInterval(() => {
                const randomText = texts[Math.floor(Math.random() * texts.length)];
                textBox.innerText = randomText;
            }, 5000);
        }
    </script>
</body>
</html>
